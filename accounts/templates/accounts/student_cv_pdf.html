{% load static %}
<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>{{ cv.full_name }} – CV</title>
  <style>
    /* Simple two-column Europass-like PDF layout */
    body { font-family: DejaVu Sans, Arial, sans-serif; font-size: 12px; margin: 0.5cm; color:#111; }
    .container { width:100%; display:flex; }
    .left { width:28%; padding:10px; background:#f7f7f7; }
    .right { width:72%; padding:10px; }
    h1 { font-size:18px; margin:0 0 6px 0; }
    h2 { font-size:14px; margin:8px 0 6px; color:#333; border-bottom:1px solid #ddd; padding-bottom:3px; }
    .section { margin-bottom:10px; }
    .exp { margin-bottom:8px; }
    .exp .period { font-weight:bold; display:block; margin-bottom:3px; }
    table.lang { width:100%; border-collapse:collapse; margin-top:6px; }
    table.lang th, table.lang td { border:1px solid #ccc; padding:4px; font-size:11px; }
  </style>
</head>
<body>
  <div class="container">
    <div class="left">
      <h1>{{ cv.full_name }}</h1>
      <div><strong>Address</strong><div>{{ cv.address }}</div></div>
      <div style="margin-top:6px;"><strong>Email</strong><div>{{ cv.email }}</div></div>
      <div style="margin-top:6px;"><strong>Phone</strong><div>{{ cv.phone }}</div></div>
      {% if cv.objective %}
      <div style="margin-top:10px;"><strong>Profile / Objective</strong><div>{{ cv.objective }}</div></div>
      {% endif %}
    </div>
    <div class="right">
      <div class="section">
        <h2>Work experience</h2>
        {% if experience %}
          {% for e in experience %}
            <div class="exp">
              <div class="period">
                {{ e.start_date }} - {% if e.end_date %}{{ e.end_date }}{% else %}Present{% endif %}
              </div>
              <div><strong>{{ e.job_title }}</strong> — {{ e.company }}</div>
              {% if e.city or e.country %}<div>{{ e.city }} {% if e.city and e.country %}, {% endif %} {{ e.country }}</div>{% endif %}
              {% if e.description %}<div><em>{{ e.description }}</em></div>{% endif %}
            </div>
          {% endfor %}
        {% else %}
          <div><em>No work experience provided.</em></div>
        {% endif %}
      </div>

      <div class="section">
        <h2>Education &amp; Training</h2>
        <div><em>Use the skills & training section of your profile to add formal qualifications if needed.</em></div>
      </div>

      <div class="section">
        <h2>Language skills</h2>
        {% if languages %}
        <table class="lang">
          <thead>
            <tr><th>Language</th><th>Listening</th><th>Reading</th><th>Spoken interaction</th><th>Spoken production</th><th>Writing</th></tr>
          </thead>
          <tbody>
            {% for l in languages %}
            <tr>
              <td>{% if l.mother_tongue %}{{ l.language }} (Mother tongue){% else %}{{ l.language }}{% endif %}</td>
              <td>{{ l.listening }}</td>
              <td>{{ l.reading }}</td>
              <td>{{ l.spoken_interaction }}</td>
              <td>{{ l.spoken_production }}</td>
              <td>{{ l.writing }}</td>
            </tr>
            {% endfor %}
          </tbody>
        </table>
        {% else %}
        <div><em>No languages provided.</em></div>
        {% endif %}
      </div>

    </div>
  </div>
</body>
</html>
